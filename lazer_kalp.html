<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>RGB Lazer Kalp - TUBA</title>
<style>
  html,body{margin:0;height:100%;background:#000;overflow:hidden}
  canvas{display:block;width:100%;height:100%}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const canvas=document.getElementById("c");
const ctx=canvas.getContext("2d");
let cx,cy,scale,heartPts;

function resize(){
  canvas.width=innerWidth;
  canvas.height=innerHeight;
  cx=canvas.width/2;
  cy=canvas.height/2;

  // Kalbi ekrana %90 oranında sığdır
  const usable = Math.min(canvas.width, canvas.height) * 0.45; 
  scale = usable/16; // 16, kalp formülündeki x ekseninde maksimum değer

  heartPts=makeHeart(cx,cy,scale,900);
}
window.addEventListener("resize",resize);

function makeHeart(cx,cy,s,num){
  const pts=[];
  for(let i=0;i<num;i++){
    const t=2*Math.PI*i/num;
    const x=16*Math.pow(Math.sin(t),3);
    const y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
    pts.push({x:cx+s*x, y:cy-s*y});
  }
  return pts;
}
resize();

// animasyon
let last=performance.now()/1000,time=0;
function loop(now){
  const t=now/1000;
  let dt=t-last; if(dt>0.05)dt=0.05; last=t; time+=dt;

  ctx.fillStyle="rgba(0,0,0,0.25)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  const n=heartPts.length;
  for(let i=0;i<n;i++){
    const p1=heartPts[i],p2=heartPts[(i+1)%n];
    const hue=(time*120+i*0.6)%360;
    const col=`hsl(${hue},100%,60%)`;
    const glow=`hsla(${hue},100%,50%,0.18)`;

    // Glow
    ctx.strokeStyle=glow;
    ctx.lineWidth=scale*0.8;
    ctx.beginPath(); ctx.moveTo(p1.x,p1.y); ctx.lineTo(p2.x,p2.y); ctx.stroke();

    // Lazer çizgi
    ctx.strokeStyle=col;
    ctx.lineWidth=scale*0.25;
    ctx.beginPath(); ctx.moveTo(p1.x,p1.y); ctx.lineTo(p2.x,p2.y); ctx.stroke();
  }

  // ORTA YAZI: TUBA
  ctx.textAlign="center";
  ctx.textBaseline="middle";
  const fontSize=scale*3; // kalp boyuna göre dinamik
  ctx.font=`bold ${fontSize}px Arial Black`;

  const hue=(time*120)%360;
  const textColor=`hsl(${hue},100%,60%)`;
  const glowColor=`hsla(${hue},100%,60%,0.4)`;

  ctx.shadowColor=glowColor;
  ctx.shadowBlur=scale*2.2;
  ctx.fillStyle=textColor;
  ctx.fillText("TUBA",cx,cy);

  ctx.shadowBlur=0;

  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
